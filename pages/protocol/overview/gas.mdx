import Image from 'next/image'
import { IndentedParagraph } from '../../../components/IndentedParagraph'
import { IndentedDiv } from '../../../components/IndentedDiv'
import { ETH_PRICE, GAS_PRICE_IN_GWEI, gasFigures, getDollarEstimate } from './helpers'

# Gas benchmarks

## Edition & mint config creation

The following are some scenarios that can be used to estimate the gas cost of deploying & initializing your edition, as well as initializing the configuration(s) for a sale. Each of the listed transactions can be made separately, but it is more convenient to use [`SoundCreatorV1.createSoundAndMints`](/protocol/core/sound-creator-v1#createsoundandmints), which can execute any arbitrary list of contract calls.

<p className="mt-4">
  Dollar figures below assume a gas price of {GAS_PRICE_IN_GWEI} gwei and ETH price of ${ETH_PRICE.toLocaleString()}. To
  check calculations with different figures, use a [gas
  calculator](https://legacy.ethgasstation.info/calculatorTxV.php).
</p>

### Public fixed-price edition

<div className="mt-4">Gas total: **{gasFigures.CREATE_EDITION_1.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.CREATE_EDITION_1)}**</div>

- 229,073 gas to deploy & initialize the minimal proxy of [SoundEditionV1](/protocol/core/sound-edition-v1).
- 24,264 gas to register `MINTER_ROLE` for [EditionMaxMinter](/protocol/modules/minters/edition-max-minter) (`SoundEditionV1.grantRoles`).
- 74,927 gas for [`EditionMaxMinter.createEditionMint`](/protocol/modules/minters/edition-max-minter#createeditionmint).

### Public sale + 1 presale

<div className="mt-4">Gas total: **{gasFigures.CREATE_EDITION_2.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.CREATE_EDITION_2)}**</div>

- 229,073 gas to deploy & initialize the minimal proxy of [SoundEditionV1](/protocol/core/sound-edition-v1).
- 24,264 gas to register `MINTER_ROLE` for [EditionMaxMinter](/protocol/modules/minters/edition-max-minter) (`SoundEditionV1.grantRoles`).
- 24,264 gas to register `MINTER_ROLE` for [MerkleDropMinter](/protocol/modules/minters/merkle-drop-minter) (`SoundEditionV1.grantRoles`).
- 74,927 gas for [`EditionMaxMinter.createEditionMint`](/protocol/modules/minters/edition-max-minter#createeditionmint) public sale config.
- 98,515 gas for [`MerkleDropMinter.createEditionMint`](/protocol/modules/minters/merkle-drop-minter#createeditionmint) presale config.

### Public sale + 1 free mint + 1 presale

<div className="mt-4">Gas total: **{gasFigures.CREATE_EDITION_3.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.CREATE_EDITION_3)}**</div>

- 229,073 gas to deploy & initialize the minimal proxy of [SoundEditionV1](/protocol/core/sound-edition-v1).
- 24,264 gas to register `MINTER_ROLE` for [EditionMaxMinter](/protocol/modules/minters/edition-max-minter) (`SoundEditionV1.grantRoles`).
- 24,264 gas to register `MINTER_ROLE` for [MerkleDropMinter](/protocol/modules/minters/merkle-drop-minter) (`SoundEditionV1.grantRoles`).
- 74,927 gas for [`EditionMaxMinter.createEditionMint`](/protocol/modules/minters/edition-max-minter#createeditionmint) public sale config.
- 98,515 gas for [`MerkleDropMinter.createEditionMint`](/protocol/modules/minters/merkle-drop-minter#createeditionmint) free mint config.
- 98,515 gas for [`MerkleDropMinter.createEditionMint`](/protocol/modules/minters/merkle-drop-minter#createeditionmint) presale config.

## Minting

The gas cost of minting is highly dependent on the number of tokens being minted. The following are median figures based on fuzz tests with random inputs.

#### [`EditionMaxMinter.mint`](/protocol/modules/minters/edition-max-minter#mint)

<div className="mt-4">Gas total: **{gasFigures.MINT_EDITION_MAX.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.MINT_EDITION_MAX)}**</div>

#### [`RangeEditionMinter.mint`](/protocol/modules/minters/range-edition-minter#mint)

<div className="mt-4">Gas total: **{gasFigures.MINT_RANGE_EDITION.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.MINT_RANGE_EDITION)}**</div>

#### [`FixedPriceSignatureMinter.mint`](/protocol/modules/minters/fixed-price-signature-minter#mint)

<div className="mt-4">Gas total: **{gasFigures.MINT_FIXED_PRICE_SIGNATURE.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.MINT_FIXED_PRICE_SIGNATURE)}**</div>

#### [`MerkleDropMinter.mint`](/protocol/modules/minters/merkle-drop-minter#mint)

<div className="mt-4">Gas total: **{gasFigures.MINT_MERKLE_DROP.toLocaleString()}**</div>
<div className="mt-2">Price estimate: **{getDollarEstimate(gasFigures.MINT_MERKLE_DROP)}**</div>
